<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>jQuery GoogleMaps プラグイン</title>
<link href="css/style.css" rel="stylesheet" type="text/css" media="screen" />
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">google.load("jquery", "1.6");</script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3.6&sensor=false"></script>
<script type="text/javascript" src="js/jquery.GoogleMaps.js"></script>
<script type="text/javascript">
	$(function(){
		$('#gmap').GoogleMaps({
			lat: 37.400529,
			lng: 140.359743,
			zoom: 15
		});
		
		$('#gmap2').GoogleMaps({
			lat: 37.400529,
			lng: 140.359743,
			zoom: 15,
			info_window: 1,
			info_content: '<h1 style="color: #C60; font-size: 16px; padding-bottom: 0.5em; border-bottom: solid 1px #CCC; margin-bottom: 0.5em;">郡山市役所</h1><a href="http://koriyama.fukushima.jp‎">koriyama.fukushima.jp‎</a>',
			icon_type: 'ltblueDot'
		});
		
		$('#gmap3').GoogleMaps({
			file: './placemarks.php?format=xml',
			info_window_heading_level: 3
		});
		
		$('#gmap4').GoogleMaps({
			file: 'http://demo.5020.jp/plugins/jQuery/jQueryGoogleMaps/placemarks.php?format=json',
			data_type: 'json',
			list_target: '#list'
		});
	});
</script>
<!--[if lt IE 9]><script type="text/javascript" src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
<header>
	<h1>jQuery Google Maps プラグイン</h1>
	<p>ライセンス：MITライセンス<br>
		ダウンロード：<a href="https://github.com/dreamseeker/jQueryGoogleMaps">GitHub</a><br>
		バージョン：1.02</p>
</header>
<article>
	<div class="wrap">
		<section>
			<p>これは、Google Maps API v3を表示できる、jQueryプラグインです。</p>
			<p>jQuery 1.6・IE9 / IE8 / IE7（Windows 7）・Safari / Firefox 5 / Firefox 4 / Chrome（Mac）で動作確認しています。<br>
				IE6で不具合があっても、対応する予定はありません。あらかじめご了承ください。</p>
		</section>
		<section>
			<h2>更新履歴</h2>
			<dl>
				<dt>2012.02.20</dt>
				<dd>【既知の問題点】Google Maps API v3（v3.7以降）で、カスタムアイコンによる複数マーカーが表示されません。<br>
					暫定的な対応となりますが、Google Maps APIを読み込む際「/js?v=3.6&amp;sensor=false」のようにバージョンを指定してください。</dd>
				<dt>2011.11.08</dt>
				<dd>サンプル4のソースコードで、data_typeの指定が抜けてるのを修正しました。</dd>
				<dt>2011.07.04</dt>
				<dd>jQuery Google Maps プラグイン ver 1.02を公開。<br>
					外部ファイルの読込で、JSONに対応しました。<br>
					また、XMLまたはJSON形式でマーカー情報を出力できるplacemarks.phpを同梱しました。</dd>
				<dt>2011.03.03</dt>
				<dd>jQuery Google Maps プラグイン ver 1.01を公開。<br>
					Google Maps API v3（v3.4）で、カスタムアイコンによる複数マーカーが表示されない不具合を修正しました。<br>
					カスタムアイコンを指定する際、アイコン・シャドウのそれぞれに、anchorおよびscaleSizeを指定できるようにしました。</dd>
				<dt>2011.02.25</dt>
				<dd>jQuery Google Maps プラグイン ver 1.00を公開。</dd>
			</dl>
		</section>
		<section id="map-sample">
			<div class="wrap">
				<section id="single-left">
					<h2>サンプル1（シングルマーカーのみ）</h2>
					<div id="gmap"></div>
					<pre class="code">
$('#gmap').GoogleMaps({
  lat: 37.400529,
  lng: 140.359743,
  zoom: 15
});
			</pre>
				</section>
				<section id="single-right">
					<h2>サンプル2（シングルマーカー・情報ウィンドウあり）</h2>
					<div id="gmap2"></div>
					<pre class="code">
$('#gmap2').GoogleMaps({
  lat: 37.400529,
  lng: 140.359743,
  zoom: 15,
  info_window: 1,
  info_content: '&lt;h1 style="color: #C60; font-size: 16px; padding-bottom: 0.5em; border-bottom: solid 1px #CCC; margin-bottom: 0.5em;"&gt;郡山市役所&lt;/h1&gt;&lt;a href="http://koriyama.fukushima.jp‎"&gt;koriyama.fukushima.jp‎&lt;/a&gt;',
  icon_type: 'ltblueDot'
});
			</pre>
				</section>
			</div>
			<section>
				<h2>サンプル3（マルチマーカー）</h2>
				<div id="gmap3"></div>
				<pre class="code">
$('#gmap3').GoogleMaps({
  file: './placemarks.php?format=xml',
  info_window_heading_level: 3
});
		</pre>
			</section>
			<section>
				<h2>サンプル4（マルチマーカー・リスト連動・外部ドメインからJSONPでマーカー情報を取得）</h2>
				<div class="wrap">
					<div id="gmap4"></div>
					<ul id="list">
					</ul>
				</div>
				<pre class="code">
$('#gmap4').GoogleMaps({
  file: 'http://demo.5020.jp/plugins/jQuery/jQueryGoogleMaps/placemarks.php?format=json',
  data_type: 'json',
  list_target: 'ul#list'
});
		</pre>
			</section>
		</section>
		<section>
			<h2>初期化オプションについて（グレーの枠内は初期値です）</h2>
			<dl>
				<dt>初期位置、ズームレベル、情報ウィンドウ、アイコンタイプ（シングルマーカー）</dt>
				<dd>
					<dl>
						<dt>lat:</dt>
						<dd>表示される地図の中心位置の緯度を指定します。</dd>
						<dd class="default">
							<pre>lat: 37.400529</pre>
						</dd>
						<dt>lng:</dt>
						<dd>表示される地図の中心位置の経度を指定します。</dd>
						<dd class="default">
							<pre>lng: 140.359743</pre>
						</dd>
						<dt>zoom:</dt>
						<dd>表示される地図のズームレベルを指定します。</dd>
						<dd class="default">
							<pre>zoom: 15</pre>
						</dd>
						<dt>info_window:</dt>
						<dd>情報ウィンドウの表示を（ 0 | 1 ）で指定します。デフォルトでは、非表示になっています。</dd>
						<dd class="default">
							<pre>info_window: 0</pre>
						</dd>
						<dt>info_content:</dt>
						<dd>情報ウィンドウに表示する内容を指定します。HTMLタグも記述できます。</dd>
						<dd class="default">
							<pre>info_content: null</pre>
						</dd>
						<dt>icon_type:</dt>
						<dd>表示されるマーカーを（ redDot | blueDot | greenDot | ltblueDot | yellowDot | purpleDot | pinkDot | orangeDot ）で指定します。<br>
							デフォルトでは、redDotになります。<br>
							iconsで任意のアイコンを指定することも可能です。</dd>
						<dd class="default">
							<pre>icon_type: null</pre>
						</dd>
					</dl>
				</dd>
				<dt>コントローラー、マップタイプ（共通）</dt>
				<dd>
					<dl>
						<dt>map_type_control:</dt>
						<dd>MapTypeコントロールの表示をブーリアン（ true | false ）で指定します。</dd>
						<dd class="default">
							<pre>map_type_control: false</pre>
						</dd>
						<dt>map_type_id:</dt>
						<dd>MapTypeIDを（ HYBRID | ROADMAP | SATELLITE | TERRAIN ）で指定します。</dd>
						<dd class="default">
							<pre>map_type_id: google.maps.MapTypeId.ROADMAP</pre>
						</dd>
					</dl>
				</dd>
				<dt>外部ファイル（マルチマーカー）</dt>
				<dd>
					<dl>
						<dt>file:</dt>
						<dd>マーカー表示用の外部ファイルのパスを指定します。<br>
							外部ドメインのJSONを指定する場合は、callbackの指定は不要です。</dd>
						<dd class="default">
							<pre>file: null</pre>
						</dd>
						<dt>data_type:</dt>
						<dd>マーカー表示用の外部ファイルのタイプを（ xml | json ）のいずれかで指定します。</dd>
						<dd class="default">
							<pre>data_type: null</pre>
						</dd>
					</dl>
				</dd>
				<dt>情報ウィンドウ（共通）</dt>
				<dd>
					<dl>
						<dt>info_window_class:</dt>
						<dd>情報ウィンドウの内容を含む、div要素のclass名を指定します。</dd>
						<dd class="default">
							<pre>info_window_class: 'info-data'</pre>
						</dd>
						<dt>info_window_heading_level:</dt>
						<dd>情報ウィンドウのタイトル部分の見出しレベルを1〜6の整数で指定します。</dd>
						<dd class="default">
							<pre>info_window_heading_level: 1</pre>
						</dd>
					</dl>
				</dd>
				<dt>連動リスト（マルチマーカー）</dt>
				<dd>
					<dl>
						<dt>link_target:</dt>
						<dd>地図上のマーカーと連動させる、ページ内に存在する要素を指定します。</dd>
						<dd class="default">
							<pre>link_target: null</pre>
						</dd>
						<dt>list_target:</dt>
						<dd>地図上のマーカーと連動するリストを表示させるul（もしくは、ol）要素を指定します。</dd>
						<dd class="default">
							<pre>list_target: null</pre>
						</dd>
					</dl>
				</dd>
				<dt>マーカーアイコン（共通）</dt>
				<dd>
					<dl>
						<dt>icons :</dt>
						<dd>カスタムアイコン向けのMarkerImage クラスを初期化するための指定です。<br>
							markerXXXはアイコン、shadowXXXは影をそれぞれ指定できます。
						</dd>
						<dd>参考URL：<a href="http://code.google.com/intl/ja/apis/maps/documentation/javascript/reference.html#MarkerImage">http://code.google.com/intl/ja/apis/maps/documentation/javascript/reference.html#MarkerImage</a></dd>
						<dd class="default">
							<pre>icons :{
	redDot: {
		markerImg: 'http://maps.google.co.jp/mapfiles/ms/icons/red-dot.png',
		markerSize: new google.maps.Size( 32, 32 ),
		markerOrigin: new google.maps.Point( 0, 0 ),
		markerAnchor: new google.maps.Point( 16, 32 ),
		markerScaleSize: new google.maps.Size( 32, 32 ),
		shadowImg: 'http://maps.google.co.jp/mapfiles/ms/icons/msmarker.shadow.png',
		shadowSize: new google.maps.Size( 59, 32 ),
		shadowOrigin: new google.maps.Point( -14, 0 ),
		shadowAnchor: new google.maps.Point( 29, 32 ),
		shadowScaleSize: new google.maps.Size( 59, 32 )
	},
	blueDot: {
		markerImg: 'http://maps.google.co.jp/mapfiles/ms/icons/blue-dot.png',
		markerSize: new google.maps.Size( 32, 32 ),
		markerOrigin: new google.maps.Point( 0, 0 ),
		markerAnchor: new google.maps.Point( 16, 32 ),
		markerScaleSize: new google.maps.Size( 32, 32 ),
		shadowImg: 'http://maps.google.co.jp/mapfiles/ms/icons/msmarker.shadow.png',
		shadowSize: new google.maps.Size( 59, 32 ),
		shadowOrigin: new google.maps.Point( -14, 0 ),
		shadowAnchor: new google.maps.Point( 29, 32 ),
		shadowScaleSize: new google.maps.Size( 59, 32 )
	},
	greenDot: {
		markerImg: 'http://maps.google.co.jp/mapfiles/ms/icons/green-dot.png',
		markerSize: new google.maps.Size( 32, 32 ),
		markerOrigin: new google.maps.Point( 0, 0 ),
		markerAnchor: new google.maps.Point( 16, 32 ),
		markerScaleSize: new google.maps.Size( 32, 32 ),
		shadowImg: 'http://maps.google.co.jp/mapfiles/ms/icons/msmarker.shadow.png',
		shadowSize: new google.maps.Size( 59, 32 ),
		shadowOrigin: new google.maps.Point( -14, 0 ),
		shadowAnchor: new google.maps.Point( 29, 32 ),
		shadowScaleSize: new google.maps.Size( 59, 32 )
	},
	ltblueDot: {
		markerImg: 'http://maps.google.co.jp/mapfiles/ms/icons/ltblue-dot.png',
		markerSize: new google.maps.Size( 32, 32 ),
		markerOrigin: new google.maps.Point( 0, 0 ),
		markerAnchor: new google.maps.Point( 16, 32 ),
		markerScaleSize: new google.maps.Size( 32, 32 ),
		shadowImg: 'http://maps.google.co.jp/mapfiles/ms/icons/msmarker.shadow.png',
		shadowSize: new google.maps.Size( 59, 32 ),
		shadowOrigin: new google.maps.Point( -14, 0 ),
		shadowAnchor: new google.maps.Point( 29, 32 ),
		shadowScaleSize: new google.maps.Size( 59, 32 )
	},
	yellowDot: {
		markerImg: 'http://maps.google.co.jp/mapfiles/ms/icons/yellow-dot.png',
		markerSize: new google.maps.Size( 32, 32 ),
		markerOrigin: new google.maps.Point( 0, 0 ),
		markerAnchor: new google.maps.Point( 16, 32 ),
		markerScaleSize: new google.maps.Size( 32, 32 ),
		shadowImg: 'http://maps.google.co.jp/mapfiles/ms/icons/msmarker.shadow.png',
		shadowSize: new google.maps.Size( 59, 32 ),
		shadowOrigin: new google.maps.Point( -14, 0 ),
		shadowAnchor: new google.maps.Point( 29, 32 ),
		shadowScaleSize: new google.maps.Size( 59, 32 )
	},
	purpleDot: {
		markerImg: 'http://maps.google.co.jp/mapfiles/ms/icons/purple-dot.png',
		markerSize: new google.maps.Size( 32, 32 ),
		markerOrigin: new google.maps.Point( 0, 0 ),
		markerAnchor: new google.maps.Point( 16, 32 ),
		markerScaleSize: new google.maps.Size( 32, 32 ),
		shadowImg: 'http://maps.google.co.jp/mapfiles/ms/icons/msmarker.shadow.png',
		shadowSize: new google.maps.Size( 59, 32 ),
		shadowOrigin: new google.maps.Point( -14, 0 ),
		shadowAnchor: new google.maps.Point( 29, 32 ),
		shadowScaleSize: new google.maps.Size( 59, 32 )
	},
	pinkDot: {
		markerImg: 'http://maps.google.co.jp/mapfiles/ms/icons/pink-dot.png',
		markerSize: new google.maps.Size( 32, 32 ),
		markerOrigin: new google.maps.Point( 0, 0 ),
		markerAnchor: new google.maps.Point( 16, 32 ),
		markerScaleSize: new google.maps.Size( 32, 32 ),
		shadowImg: 'http://maps.google.co.jp/mapfiles/ms/icons/msmarker.shadow.png',
		shadowSize: new google.maps.Size( 59, 32 ),
		shadowOrigin: new google.maps.Point( -14, 0 ),
		shadowAnchor: new google.maps.Point( 29, 32 ),
		shadowScaleSize: new google.maps.Size( 59, 32 )
	},
	orangeDot: {
		markerImg: 'http://maps.google.co.jp/mapfiles/ms/icons/orange-dot.png',
		markerSize: new google.maps.Size( 32, 32 ),
		markerOrigin: new google.maps.Point( 0, 0 ),
		markerAnchor: new google.maps.Point( 16, 32 ),
		markerScaleSize: new google.maps.Size( 32, 32 ),
		shadowImg: 'http://maps.google.co.jp/mapfiles/ms/icons/msmarker.shadow.png',
		shadowSize: new google.maps.Size( 59, 32 ),
		shadowOrigin: new google.maps.Point( -14, 0 ),
		shadowAnchor: new google.maps.Point( 29, 32 ),
		shadowScaleSize: new google.maps.Size( 59, 32 )
	}
}</pre>
						</dd>
						<dt>list_target:</dt>
						<dd>地図上のマーカーと連動するリストを表示させるul（もしくは、ol）要素を指定します。</dd>
						<dd class="default">
							<pre>list_target: null</pre>
						</dd>
					</dl>
				</dd>
			</dl>
		</section>
		<section>
			<h2>JavaScript サンプル</h2>
			<pre class="code">
&lt;script type="text/javascript" src="http://www.google.com/jsapi"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;google.load("jquery", "1.6.2");&lt;/script&gt;
&lt;script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3.6&amp;sensor=false"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="js/jquery.GoogleMaps.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  $(function(){
    $('#gmap').GoogleMaps({
        
      // シングルマーカー関連
      lat: 37.400529,                               // 緯度
      lng: 140.359743,                              // 経度
      zoom: 15,                                     // ズームレベル
      info_window: 0,                               // 情報ウィンドウの表示（0, 1）
      info_content: null,                           // 情報ウィンドウのコンテンツ（HTMLタグ）
      
      // マルチマーカー関連
      file: null,                                   // XMLファイルのパス（記述例：'./sample.xml'）
      info_window_class: 'info-data',               // 情報ウィンドウのclass名
      info_window_heading_level: 1,                 // 情報ウィンドウ内タイトルの見出しレベル（1〜6）
      list_target: null,                            // 連動リストを表示させるul要素のセレクタ（記述例：'ul#list'）
  	
      // マップタイプ関連
      map_type_control: false,                      // MapTypeコントロール（Boolean）
      map_type_id: google.maps.MapTypeId.ROADMAP,   // MapTypeID
      
      // アイコン関連
      icon_type: null,                  　          // アイコンタイプ（アイコン一覧は、icons: {}で指定）
      icons :{                  　                  // アイコンタイプの一覧（以下、デフォルト値）
        redDot: {
          markerImg: 'http://maps.google.co.jp/mapfiles/ms/icons/red-dot.png',
          markerSize: new google.maps.Size( 32, 32 ),
          markerOrigin: new google.maps.Point( 0, 0 ),
          markerAnchor: new google.maps.Point( 16, 32 ),
          markerScaleSize: new google.maps.Size( 32, 32 ),
          shadowImg: 'http://maps.google.co.jp/mapfiles/ms/icons/msmarker.shadow.png',
          shadowSize: new google.maps.Size( 59, 32 ),
          shadowOrigin: new google.maps.Point( -14, 0 ),
          shadowAnchor: new google.maps.Point( 29, 32 ),
          shadowScaleSize: new google.maps.Size( 59, 32 )
        },
        blueDot: {（中略）},
        greenDot: {（中略）},
        ltblueDot: {（中略）},
        yellowDot: {（中略）},
        purpleDot: {（中略）},
        pinkDot: {（中略）},
        orangeDot: {（中略）}
      }
    });
  });
&lt;/script&gt;
			</pre>
		</section>
		<section>
			<h2>XML サンプル</h2>
			<pre class="code">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Placemarks&gt;
  &lt;Placemark&gt;
    &lt;name&gt;郡山市役所&lt;/name&gt;		// 名称（情報ウィンドウ、リストに表示）
    &lt;description&gt;			// 情報ウィンドウ内のコンテンツ
      &lt;![CDATA[
        〒963-8024&lt;br&gt;
        福島県郡山市朝日１丁目２３−７&lt;br&gt;
        024-924-2491&lt;br&gt;
      ]]&gt;
    &lt;/description&gt;
    &lt;LookAt&gt;
      &lt;latitude&gt;37.400529&lt;/latitude&gt;	// 緯度
      &lt;longitude&gt;140.359743&lt;/longitude&gt;	// 経度
    &lt;/LookAt&gt;
    &lt;icon&gt;redDot&lt;/icon&gt;			// アイコンタイプ
  &lt;/Placemark&gt;
  &lt;Placemark&gt;
    （中略）
  &lt;/Placemark&gt;
&lt;/Placemarks&gt;
			</pre>
		</section>
		<section>
			<h2>JSON サンプル</h2>
			<pre>{
  &quot;placemarks&quot;: [
    {
      &quot;name&quot;: &quot;郡山市役所&quot;,
      &quot;description&quot;: &quot;&lt;img src=\&quot;http://mw2.google.com/mw-panoramio/photos/thumbnail/25589455.jpg\&quot;&gt;〒963-8024&lt;br&gt;福島県郡山市朝日１丁目２３−７&lt;br&gt;024-924-2491&lt;br&gt;&lt;a href=\&quot;http://koriyama.fukushima.jp\&quot;&gt;koriyama.fukushima.jp‎&lt;/a&gt;&quot;,
      &quot;url&quot;: &quot;http://koriyama.fukushima.jp&quot;,
      &quot;lookat&quot;: {
        &quot;latitude&quot;: &quot;37.400529&quot;,
        &quot;longitude&quot;: &quot;140.359743&quot;
      }
    },
    {（中略）}
  ]
}</pre>
		</section>
		<section>
			<h2>備考</h2>
			<p>お気づきの点やご意見・ご要望などありましたら、<a href="http://twitter.com/BUN" target="_blank">@BUN</a>または<a href="http://d-s-b.jp/" target="_blank">dreamseeker</a>まで、ご連絡ください。 </p>
		</section>
	</div>
</article>
<footer>
<p><a href="http://ganba1049.net/"><img src="http://ganba1049.net/banner.gif" alt="ニッポンスマイルプロジェクト！"></a></p>
</footer>
</body>
</html>
